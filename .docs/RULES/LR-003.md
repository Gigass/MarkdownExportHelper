# LR-003: 文档维护规则

## 规则信息

**规则ID**: LR-003  
**规则名称**: 文档维护规则  
**状态**: 活跃  
**优先级**: 高  
**创建日期**: 2024-12-19  
**维护者**: AI 开发伙伴  

## 规则定义

### 触发情景
- 代码功能变更
- 架构调整
- 新增依赖库
- 许可证变更
- 项目结构变化

### 核心指令
1. **同步更新**: 任何代码变更必须同步更新相关文档
2. **基线维护**: 保持 `.docs/STATE/` 下基线文档的准确性
3. **规则遵守**: 严格遵守 `.docs/RULES/` 下的开发规则
4. **状态外化**: 重要任务必须在 `.docs/TEMP/` 下记录状态
5. **经验萃取**: 从开发过程中提取有价值的经验和规则

## 文档分类

### STATE/ - 事实基线
存放描述项目当前状态的"事实基线"文档，是所有变更的出发点。

**核心文档**:
- `PROJECT-OVERVIEW.md` - 项目整体架构和功能描述
- `TECH-STACK.md` - 技术栈和依赖库说明
- `FILE-STRUCTURE.md` - 文件结构基线
- `LICENSE-INFO.md` - 许可证信息基线

**更新原则**:
- 任何架构变更必须更新 PROJECT-OVERVIEW.md
- 新增依赖必须更新 TECH-STACK.md
- 文件结构变化必须更新 FILE-STRUCTURE.md
- 许可证变更必须更新 LICENSE-INFO.md

### PROCESS/ - 过程流水
存放用于推动状态变更的"过程流水"文档。

**子目录**:
- `TEMPLATES/` - 过程文档模板
- `PROPOSALS/` - 功能提案和架构变更建议

**维护要求**:
- 新过程必须使用 TEMPLATES/ 下的模板
- 重大变更必须创建提案文档
- 过程文档必须包含明确的执行步骤

### RULES/ - 开发规则
存放从过往经验中沉淀的、必须遵守的"开发规则"。

**规则结构**:
- 规则ID和名称
- 触发情景
- 核心指令
- 执行流程
- 验证方法
- 违规处理

**维护要求**:
- 新规则必须基于实际经验
- 规则必须明确、可执行
- 定期审查和更新规则

### TEMP/ - 临时状态
存放任务执行过程中的临时状态文件。

**使用场景**:
- 复杂任务的规划和执行
- 多步骤操作的状态跟踪
- 问题解决的过程记录

**维护要求**:
- 任务完成后清理临时文件
- 重要经验提取到规则文档
- 状态文件必须包含时间戳

## 文档质量标准

### 内容要求
- **准确性**: 文档内容必须与代码实现一致
- **完整性**: 覆盖所有重要的功能和配置
- **时效性**: 及时更新，反映最新状态
- **可读性**: 结构清晰，语言简洁明了

### 格式要求
- **Markdown 格式**: 使用标准 Markdown 语法
- **结构一致**: 使用统一的文档结构模板
- **链接完整**: 相关文档间建立正确的链接
- **版本控制**: 文档变更纳入版本控制

### 维护责任
- **AI 开发伙伴**: 负责主动维护和更新文档
- **开发者**: 负责同步更新相关文档
- **审查者**: 负责文档质量审查

## 更新流程

### 自动更新
- **代码变更**: 检测到代码变更时自动提醒文档更新
- **依赖变更**: 新增依赖时自动更新技术栈文档
- **结构变更**: 文件结构变化时自动更新结构文档

### 手动更新
- **功能变更**: 功能变更后手动更新相关文档
- **架构调整**: 架构调整后更新架构文档
- **规则变更**: 规则变更后更新规则文档

### 定期审查
- **月度审查**: 每月审查一次文档完整性
- **季度审查**: 每季度审查一次文档准确性
- **年度审查**: 每年审查一次文档架构

## 文档模板

### 状态基线文档模板
```markdown
# [文档名称] - 状态基线

## 基本信息
- 创建日期: YYYY-MM-DD
- 最后更新: YYYY-MM-DD
- 维护者: [维护者]

## 内容
[具体内容]

## 相关文档
- [相关文档链接]

---
*文档状态: [状态]*  
*维护者: [维护者]*  
*下次审查: [日期]*
```

### 规则文档模板
```markdown
# [规则ID]: [规则名称]

## 规则信息
- 规则ID: [ID]
- 规则名称: [名称]
- 状态: [状态]
- 优先级: [优先级]
- 创建日期: [日期]
- 维护者: [维护者]

## 规则定义
[规则内容]

---
*规则状态: [状态]*  
*最后更新: [日期]*  
*下次审查: [日期]*
```

## 违规处理

### 轻微违规
- 文档更新延迟
- 格式不一致
- 链接失效

**处理方式**: 立即修正，更新相关文档

### 严重违规
- 文档与代码不一致
- 重要信息缺失
- 规则违反

**处理方式**: 立即修复，进行完整性检查

## 工具支持

### 自动化工具
- **文档生成**: 自动生成 API 文档
- **链接检查**: 自动检查文档链接有效性
- **格式检查**: 自动检查 Markdown 格式
- **版本控制**: 自动跟踪文档变更

### 手动工具
- **模板系统**: 提供标准文档模板
- **检查清单**: 提供文档更新检查清单
- **审查流程**: 提供文档审查流程

## 相关文档

- `.docs/README-DOCS.md` - 文档系统说明
- `.docs/PROCESS/TEMPLATES/` - 文档模板
- `.docs/RULES/` - 开发规则

---

*规则状态: 活跃*  
*最后更新: 2024-12-19*  
*下次审查: 2025-01-19* 